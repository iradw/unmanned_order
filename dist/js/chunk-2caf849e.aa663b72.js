(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2caf849e"],{"9b16":function(t,a,i){"use strict";var s=i("c815"),e=i.n(s);e.a},c815:function(t,a,i){},c84b:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"detail"},[i("router-link",{staticClass:"back_button",attrs:{to:"/home",tag:"div"}},[t._v("返回")]),i("div",{staticClass:"detail_header"},[i("img",{attrs:{src:t.api+t.detailData.img_url,alt:""}}),i("h2",{staticClass:"name"},[t._v(t._s(t.detailData.title))]),i("p",{staticClass:"price"},[t._v("￥"+t._s(t.detailData.price)+"/份")])]),i("div",{staticClass:"detail_content"},[i("h3",{staticClass:"content_title"},[t._v("商品详情")]),i("img",{attrs:{src:t.api+t.detailData.img_url,alt:""}}),i("p",{staticClass:"content_introduce",domProps:{innerHTML:t._s(t.detailData.content)}})]),i("div",{staticClass:"detail_footer"},[i("div",{staticClass:"footer_amount"},[i("span",[t._v("数量:")]),i("div",{staticClass:"amount_controler"},[i("div",{staticClass:"controler_inner"},[i("div",{staticClass:"sub",on:{click:t.onSub}},[t._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"amount",attrs:{type:"number",disabled:"disabled"},domProps:{value:t.num},on:{input:function(a){a.target.composing||(t.num=a.target.value)}}}),i("div",{staticClass:"add",on:{click:t.onAdd}},[t._v("+")])])])]),i("div",{staticClass:"footer_into_cart",on:{click:t.onAddCart}},[t._v("加入购物车")])])],1)},e=[],n=i("ea52"),o=i("8ede"),c={name:"detail",data:function(){return{api:n["a"].api,detailData:{},num:1}},methods:{requestData:function(t){var a=this;this.$axios.get(this.api+"api/productcontent?id="+t).then(function(t){console.log(t),a.detailData=t.data.result[0]}).catch(function(t){console.log(t)})},onSub:function(){this.num>1&&--this.num},onAdd:function(){++this.num},onAddCart:function(){var t=this;this.$axios.post(this.api+"api/addcart",{uid:o["a"].get("uid"),title:this.detailData.title,product_id:this.detailData._id,img_url:this.detailData.img_url,price:this.detailData.price,num:this.num}).then(function(a){"true"===a.data.success&&t.$router.push({path:"/home"}),console.log(a),t.$socket.emit("addcart","I want to refresh")}).catch(function(t){console.log(t)})}},mounted:function(){this.requestData(this.$route.query.id)}},l=c,d=(i("9b16"),i("2877")),u=Object(d["a"])(l,s,e,!1,null,"959c1b0e",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2caf849e.aa663b72.js.map