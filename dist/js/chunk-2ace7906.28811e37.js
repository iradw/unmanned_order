(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ace7906"],{"0eba":function(t,i,n){"use strict";var e=n("3d8e"),s=n.n(e);s.a},1297:function(t,i,n){},"2cef":function(t,i,n){},"3d8e":function(t,i,n){},"50af":function(t,i,n){},"7b1a":function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"nav_button",on:{click:t.onNavButtonClick}},[n("div",{staticClass:"main_menu"},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",t._b({},"use",t._d({},[t.iconfontStr,t.isOpen?"#icon-cha":"#icon-daohang"])))]),n("p",[t._v(t._s(t.isOpen?"返回":"导航"))])]),n("ul",{staticClass:"sub_list"},t._l(t.subItems,function(i,e){return n("li",{key:e,staticClass:"sub_item button",style:{top:i.top+"rem",left:i.left+"rem"},on:{click:function(i){return i.stopPropagation(),t.onSubItemsClick(t.commands[e])}}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",t._b({},"use",t._d({},[t.iconfontStr,i.iconHref])))]),n("p",[t._v(t._s(i.itemName))])])}),0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"cover",style:{width:t.w,height:t.h}})])},s=[],a={name:"nav_button",props:{commands:Array},data:function(){return{isOpen:!1,iconfontStr:"xlink:href",subItems:[{iconHref:"#icon-caidan2",itemName:"菜单",top:0,left:0},{iconHref:"#icon-qicheqianlian-1",itemName:"购物车",top:0,left:0},{iconHref:"#icon-icon-",itemName:"我的订单",top:0,left:0},{iconHref:"#icon-jiezhang",itemName:"结账",top:0,left:0}],w:window.innerWidth+"px",h:window.innerHeight+"px"}},methods:{getPoint:function(t,i){var n=Math.ceil(Math.sin(.017453293*i)*t),e=Math.ceil(Math.cos(.017453293*i)*t);return{left:n,top:e}},onNavButtonClick:function(){var t=13;if(this.isOpen)for(var i in this.subItems)this.subItems[i].top=this.subItems[i].left=0;else for(var n in this.subItems)this.subItems[n].top=-this.getPoint(t,90*n/(this.subItems.length-1)).top,this.subItems[n].left=this.getPoint(t,90*n/(this.subItems.length-1)).left;this.isOpen=!this.isOpen,this.$emit("changeState",this.isOpen)},onSubItemsClick:function(t){this.$emit("subClick",t)}}},o=a,c=(n("0eba"),n("2877")),r=Object(c["a"])(o,e,s,!1,null,"003d54f0",null);i["a"]=r.exports},bb51:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"index"},[n("div",{staticClass:"index_header"},[n("ul",[n("router-link",{attrs:{to:"/hot",tag:"li"}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-hot"}})]),n("p",[t._v("热销榜")])]),n("router-link",{attrs:{to:"/hot",tag:"li"}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-caidan"}})]),n("p",[t._v("点过的菜")])]),n("router-link",{attrs:{to:"/search",tag:"li"}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-sousuo"}})]),n("p",[t._v("搜你喜欢")])])],1)]),n("div",{staticClass:"index_content"},t._l(t.dataList,function(i,e){return n("div",{key:e,staticClass:"category"},[n("h3",{staticClass:"category_title"},[t._v(t._s(i.title))]),n("ul",{staticClass:"item_list"},t._l(i.list,function(i,e){return n("li",{key:e,staticClass:"item"},[n("router-link",{staticClass:"inner",attrs:{tag:"div",to:"/detail?id="+i._id}},[n("img",{attrs:{src:t.api+i.img_url}}),n("p",{staticClass:"name"},[t._v(t._s(i.title))]),n("p",{staticClass:"price"},[t._v("￥"+t._s(i.price))])])],1)}),0)])}),0),n("aside-menu",t._l(t.dataList,function(i,e){return n("li",{key:e,on:{click:function(i){return t.clickMenu(e)}}},[t._v(t._s(i.title))])}),0),n("nav-button",{attrs:{commands:["/home","/cart","",""]},on:{changeState:function(i){t.isNavOpen=!t.isNavOpen},subClick:t.onSubClick}}),n("router-link",{attrs:{tag:"div",to:"/cart"}},[n("CircleButton",{directives:[{name:"show",rawName:"v-show",value:!t.isNavOpen,expression:"!isNavOpen"}],attrs:{iconHref:"#icon-qicheqianlian-1",buttonName:"购物车",backgroundColor:"#ff0000",horizantalPosition:"right",onCircleButtonClick:t.onCartClick}})],1),t.cartCount?n("div",{staticClass:"food_num"},[t._v(t._s(t.cartCount))]):t._e()],1)},s=[],a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("aside",{staticClass:"aside_menu",style:{transform:t.isOpen?"translateX(0%)":"translateX(-100%)"}},[n("ul",{on:{click:t.onAsideClick}},[t._t("default")],2),n("div",{staticClass:"menu_button",on:{click:t.onAsideClick}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-caidan1"}})]),n("p",[t._v("菜单")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"cover",style:{width:t.w,height:t.h},on:{click:t.onAsideClick}})])},o=[],c={name:"aside_menu",data:function(){return{isOpen:!1,w:2*window.innerWidth+"px",h:window.innerHeight+"px"}},methods:{onAsideClick:function(){this.isOpen=!this.isOpen}}},r=c,u=(n("ec64"),n("2877")),l=Object(u["a"])(r,a,o,!1,null,"1134a4a0",null),h=l.exports,d=n("7b1a"),f=n("e6da"),m=n("ea52"),p=n("8ede"),v={name:"home",data:function(){return{isNavOpen:!1,dataList:[],api:m["a"].api,cartCount:0,uid:p["a"].get("uid")}},components:{AsideMenu:h,NavButton:d["a"],CircleButton:f["a"]},methods:{onSubClick:function(t){t&&this.$router.push(t)},onCartClick:function(){},requestData:function(){var t=this;this.$axios.get(this.api+"api/productlist").then(function(i){t.dataList=i.data.result}).catch(function(t){console.log(t)}),this.$axios.get(this.api+"api/cartCount?uid="+this.uid).then(function(i){console.log(i),t.cartCount=i.data.result}).catch(function(t){console.log(t)})},clickMenu:function(t){var i=document.querySelectorAll(".category");document.documentElement.scrollTop=i[t].offsetTop}},sockets:{addcart:function(){this.requestData()}},mounted:function(){this.requestData()}},C=v,_=(n("c1a7"),Object(u["a"])(C,e,s,!1,null,"07bf7b28",null));i["default"]=_.exports},c1a7:function(t,i,n){"use strict";var e=n("2cef"),s=n.n(e);s.a},e6da:function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"circle_button",style:t.styleSheets,on:{click:t.onCircleButtonClick}},[n("svg",{staticClass:"icon menu_icon",attrs:{"aria-hidden":"true"}},[n("use",t._b({},"use",t._d({},[t.iconfontStr,t.iconHref])))]),n("p",[t._v(t._s(t.buttonName))])])},s=[],a={name:"circle_button",props:{iconHref:String,backgroundColor:String,buttonName:String,horizantalPosition:String,onCircleButtonClick:Function},data:function(){return{iconfontStr:"xlink:href",left:"50%",transform:"translate(-50%, 0)",styleSheets:{}}},mounted:function(){"left"===this.horizantalPosition?this.styleSheets={left:"2.5rem",backgroundColor:this.backgroundColor}:"right"===this.horizantalPosition?this.styleSheets={right:"2.5rem",backgroundColor:this.backgroundColor}:this.styleSheets={left:"50%",transform:"translate(-50%, 0)",backgroundColor:this.backgroundColor}},methods:{defaultClick:function(){}}},o=a,c=(n("e6f5"),n("2877")),r=Object(c["a"])(o,e,s,!1,null,"d53cf63a",null);i["a"]=r.exports},e6f5:function(t,i,n){"use strict";var e=n("50af"),s=n.n(e);s.a},ec64:function(t,i,n){"use strict";var e=n("1297"),s=n.n(e);s.a}}]);
//# sourceMappingURL=chunk-2ace7906.28811e37.js.map